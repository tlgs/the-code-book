root = .
module_name = codebook

rule pdoc
  command = pdoc --no-search -o $root/docs $in
build pdoc: pdoc $module_name

rule test
  command = coverage run --branch --source=$in -m pytest
  pool = console
build test: test $root/$module_name

rule report
  command = coverage report -m
build report: report

default pdoc
